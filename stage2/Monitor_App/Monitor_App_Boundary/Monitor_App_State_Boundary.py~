from flask_restful import Resource, Api, reqparse, abort
from flask import Response
from Monitor_App \
    import app, api, control, \
           notification_push_control, \
           state_control

from Monitor_App_Boundary import apiR

class Monitor_App_State_Boundary(Resource):
    def get(self):
        return state_control.get_state()

class Monitor_App_State_Change_Boundary(Resource):
    def post(self, state=None):
        if state.upper() not in ('ON','OFF'):
            return_state = control.do_response(
                response='error',
                status=400,
                data=[],
                message='Supported states are on and off. '+\
                        '{0} is not a supported state.'.format(state)
            )
        else:
            return_state = control.do_response(
                response='success',
                status=200,
                data=[],
                message='Monitor app set to {0}.'.format(state.lower())
            )
        return return_state

